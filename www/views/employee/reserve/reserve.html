<!-- search-bar -->
<div class="bar bar-subheader stick-search-bar search-bar-box bar-assertive back-e1e1e1 no-border flex content-center items-center no-background-image auto-height items-center left-direction">
  <button class="transparent-back fit-width no-border sort-btn" ng-click="sortBox($event)">
    <svg xmlns="http://www.w3.org/2000/svg" class="unset-position full-height" viewBox="-10 -10 80 80" width="30"
         height="30">
      <path fill="#808285" fill-rule="evenodd"
            d="M-.003 52.499c0 1.925 1.566 3.5 3.479 3.5h17.393v-7H3.476c-1.913 0-3.479 1.574-3.479 3.5zm0-42c0 1.925 1.566 3.5 3.479 3.5h31.307v-7H3.476c-1.913 0-3.479 1.575-3.479 3.5zm34.786 49v-3.5h24.351c1.913 0 3.479-1.575 3.479-3.5 0-1.926-1.566-3.5-3.479-3.5H34.783v-3.5c0-1.925-1.564-3.5-3.477-3.5-1.913 0-3.479 1.575-3.479 3.5v14c0 1.925 1.566 3.5 3.479 3.5s3.477-1.575 3.477-3.5zm-20.87-35v3.5H3.476c-1.913 0-3.479 1.575-3.479 3.501 0 1.924 1.566 3.499 3.479 3.499h10.437v3.5c0 1.925 1.565 3.5 3.477 3.5 1.914 0 3.479-1.575 3.479-3.5v-14c0-1.925-1.565-3.5-3.479-3.5-1.912 0-3.477 1.575-3.477 3.5zm48.7 7.001c0-1.926-1.566-3.501-3.479-3.501H27.827v7h31.307c1.913 0 3.479-1.575 3.479-3.499zM45.22 20.999c1.914 0 3.479-1.575 3.479-3.5v-3.5h10.435c1.913 0 3.479-1.575 3.479-3.5s-1.566-3.5-3.479-3.5H48.699v-3.5c0-1.925-1.565-3.5-3.479-3.5-1.913 0-3.479 1.575-3.479 3.5v14c0 1.925 1.566 3.5 3.479 3.5z"/>
    </svg>
  </button>
  <input type="text" ng-change="search()" id="searchText" name="searchText" ng-model="searchText"
         class="w-90 redius-lg left-padding-lg-imp right-padding-lg text-right"
         placeholder="جستجو با نام غذا یا رستوران">
  <button type="button" class="btn btn-link fit-height fit-width line-height-initial no-padding-imp search-btn">
    <svg xmlns="http://www.w3.org/2000/svg" class="unset-position full-height" viewbox="-10 -10 60 60" width="35"
         height="50">
      <path fill="#808285" fill-rule="evenodd"
            d="M37.394 37.342l-9.363-10.15c2.407-2.983 3.725-6.734 3.725-10.641 0-9.128-7.123-16.555-15.879-16.555-8.757 0-15.88 7.427-15.88 16.555 0 9.127 7.123 16.553 15.88 16.553 3.287 0 6.42-1.033 9.098-2.995l9.432 10.226c.395.427.926.662 1.493.662a2.02 2.02 0 0 0 1.436-.602 2.229 2.229 0 0 0 .058-3.053zM15.877 4.315c6.472 0 11.738 5.489 11.738 12.236 0 6.747-5.266 12.235-11.738 12.235-6.472 0-11.739-5.488-11.739-12.235 0-6.747 5.267-12.236 11.739-12.236z"/>
    </svg>
  </button>
</div>
<!-- cardItem -->
<div ng-init="orderList()" class="scroll-class1">
  <div class="article-mobile-list reserve-article">
    <div ng-repeat="myday in mydays" id="d-{{$index}}" ng-class="$index === mydays.length - 1 ? 'bottom-margin-20' : ''">
      <div ng-class="$index !== 0 ? 'top-padding-20 bottom-padding-20 back-e2eded box-shadow-reserve-title' : ''" class="food_detail_title font-xxs color-939292 text-right pointer margin__top_30 w-95" style="margin: 0 auto;" ng-click="showTab($event)">
        <i class="icon ion-chevron-left color-319ab1 tab-arrow" ng-class="$index === 0 ? 'rotate' : ''"></i>
        <span class="color-7c7c7c text-right font-medium">{{getDayOfWeek(myFormatDate(myday.dayDate))}}،
                        {{getDay(myFormatDate(myday.dayDate))}}</span>
        <span class="color-7c7c7c text-right left-float font-medium left-direction">{{getTimeFromDate(myday.dayDate)}} ساعت</span>
      </div>
      <div ng-style="$index !== 0 ? {'display':'none'} : ''">
        <div ng-repeat="res in myday.restaurants" id="r-{{$parent.$index + '-' + $index}}" ng-if="res.show"
             class="card back-e2eded w-95 mobile-card auto-height flex flex-col items-center content-evenly right-direction relative margin__top_10">
          <div id="searchTime" class="hidden">{{res.orderTime}}</div>
          <div id="taghvim" class="hidden">{{res.deliveryDate}}</div>
          <div class="w-100 reserve-deliveryDate-hr hr flex items-center content-between">
            <div class="color-2e6977 text-right w-65 right-float font-sm font-bold">
              {{res.restaurant.name}}
            </div>
            <div class="pink-color w-30 left-float left-direction font-xsm" style="text-align: center">
              kf-{{myday.id}} : فاکتور
            </div>
            <div class="text-right w-5 left-float">
              <svg xmlns="http://www.w3.org/2000/svg"
                   ng-click="dessert(res.id,res.deliveryDate)"
                   class="unset-position pointer" viewbox="-5 12 45 45" width="20" height="40">
                <path fill="#1A4049" fill-rule="evenodd"
                      d="M13.844 29.723l.426 4.179c.034.341-.061.677-.275.941-.216.265-.519.43-.855.465l-4.106.423a.763.763 0 0 1-.126.009c-.291 0-.576-.101-.803-.29a1.298 1.298 0 0 1-.455-.865l-.418-4.178a1.302 1.302 0 0 1 .276-.939 1.26 1.26 0 0 1 .851-.466l4.109-.424a1.26 1.26 0 0 1 1.376 1.145zm-1.85.88l-2.768.287.282 2.816 2.771-.286-.285-2.817zm2.126-12.595a1.379 1.379 0 0 1 1.953-.185l4.505 3.793c.283.241.459.578.495.951a1.43 1.43 0 0 1-.319 1.027l-3.729 4.578a1.362 1.362 0 0 1-1.062.508c-.312 0-.624-.106-.884-.321l-4.5-3.793a1.41 1.41 0 0 1-.495-.951 1.432 1.432 0 0 1 .314-1.027l3.722-4.58zm1.773 8.478l3.021-3.713-3.646-3.076-3.028 3.713 3.653 3.076zm7.541-3.307a1.249 1.249 0 0 1-1.242-1.214l-.157-3.978c-.022-.697.505-1.287 1.196-1.314l3.908-.157a1.251 1.251 0 0 1 1.295 1.214l.157 3.976c.025.699-.511 1.289-1.195 1.314l-3.914.159h-.048zm.661-1.994l2.533-.1-.102-2.576-2.528.1.097 2.576zm2.539 13.759l-3.806 5.169a1.39 1.39 0 0 1-.93.562 1.341 1.341 0 0 1-.204.018c-.304 0-.598-.1-.847-.29l-5.08-3.865a1.456 1.456 0 0 1-.285-2.02l3.8-5.168a1.399 1.399 0 0 1 1.981-.29l5.083 3.866c.303.231.502.568.554.95.056.379-.043.759-.266 1.068zm-6.113-3.995l-3.186 4.328 4.259 3.237 3.184-4.329-4.257-3.236zM35.205 1.945l-8.008 1.354-1.632 5.152h4.406c.815 0 1.541.495 1.852 1.261.335.849.783 2.418.877 4.961.006.04.006.081.006.122v.046c.112 3.63-.474 9.19-3.019 17.368-1.83 5.866-2.713 12.295-2.636 19.108a.98.98 0 0 1-.962.996h-.01a.972.972 0 0 1-.961-.973c-.08-7.023.836-13.66 2.723-19.724 1.846-5.922 2.835-11.031 2.937-15.182.008-.225.008-.443.008-.655h-10.42a.975.975 0 0 1-.968-.984c0-.542.431-.983.968-.983h1.466l1.082-3.394H2.75c-.027 0-.049.013-.055.036-.209.514-.535 1.579-.683 3.358h13.857c.532 0 .96.441.96.983a.971.971 0 0 1-.96.984H9.648l1.145.672c.627.366.839 1.183.472 1.818l-2.412 4.259a1.3 1.3 0 0 1-1.794.489l-4.184-2.459a1.355 1.355 0 0 1-.48-1.821l1.675-2.958H1.937c.009 3.379.654 8.472 2.941 15.837 3.31 10.626 3.032 20.93 2.208 27.733.263.2.568.31.902.31h16.739a1.5 1.5 0 0 0 .915-.312 69.136 69.136 0 0 1-.324-3.29.983.983 0 0 1 .889-1.055.98.98 0 0 1 1.039.905 80.44 80.44 0 0 0 .365 3.671v.002c.116.845.233 1.68.361 2.49.015.04.018.079.024.12.044.229.076.458.119.682a3.524 3.524 0 0 1-.75 2.861 3.406 3.406 0 0 1-2.638 1.256H7.988c-.449 0-.89-.09-1.294-.259a3.445 3.445 0 0 1-1.344-.997 3.52 3.52 0 0 1-.741-2.861c.043-.247.088-.497.128-.749.005-.049.015-.101.018-.15.024-.166.058-.33.08-.496.87-5.651 1.901-17.384-1.802-29.268C1.135 26.112.116 20.821.007 16.484c-.092-3.521.437-5.628.89-6.772A1.991 1.991 0 0 1 2.75 8.451h20.789l1.866-5.911a1.684 1.684 0 0 1 1.32-1.154L34.883.007a.963.963 0 0 1 1.112.807.972.972 0 0 1-.79 1.131zM7.493 20.997l1.795-3.16-3.114-1.828-1.792 3.163 3.111 1.825zm-.657 43.475a1.497 1.497 0 0 0 1.152.549h16.739c.229 0 .443-.048.637-.141a1.59 1.59 0 0 0 .525-.408 1.54 1.54 0 0 0 .318-1.251c-.1-.594-.203-1.197-.291-1.809a3.388 3.388 0 0 1-1.189.215H7.988a3.39 3.39 0 0 1-1.184-.215c-.095.649-.197 1.255-.287 1.809-.087.448.03.901.319 1.251zm18.107-54.054l-1.077 3.394h6.849c-.146-1.736-.462-2.802-.688-3.358a.058.058 0 0 0-.056-.036h-5.028z"/>
              </svg>
            </div>
          </div>
          <div ng-repeat="food in res.foodOrders" ng-if="food.food.foodType != 'DDA'"
               class="w-100 flex items-center content-between color-319ab1 font-bold">
            <div class="mobile-food-name text-right font-sm line-height-initial font-bold">
              {{food.food.name}}
            </div>
            <div class="fit-width flex items-center food-count-box">
              <svg xmlns="http://www.w3.org/2000/svg" ng-click="productMinus($event)"
                   class="unset-position"
                   viewbox="0 -15 60 90" width="20" height="30">
                <path fill="#1A4049" fill-rule="evenodd"
                      d="M29.513.307C13.225.307.026 13.669.026 30.149c0 16.48 13.199 29.842 29.487 29.842 16.281 0 29.481-13.362 29.481-29.842 0-16.48-13.2-29.842-29.481-29.842zm15.083 33.219h-30.16c-1.837 0-3.343-1.518-3.343-3.377 0-1.858 1.506-3.378 3.343-3.378h30.16c1.829 0 3.336 1.52 3.336 3.378 0 1.859-1.507 3.377-3.336 3.377z"/>
              </svg>
              <span class="white-color candy-back white-color candy-back redius-xl reserve-item-count right-margin-sm left-margin-sm">{{res.foodOrders.length}}</span>
              <svg xmlns="http://www.w3.org/2000/svg" ng-click="productPlus($event)"
                   class="unset-position"
                   viewbox="0 -15 60 90" width="20" height="30">
                <path fill="#1A4049" fill-rule="evenodd"
                      d="M29.473.012C13.194.012-.006 13.371-.006 29.852c0 16.482 13.2 29.841 29.479 29.841 16.285 0 29.48-13.359 29.48-29.841 0-16.481-13.195-29.84-29.48-29.84zm15.083 33.22H32.813v11.883c0 1.861-1.503 3.38-3.34 3.38-1.832 0-3.336-1.519-3.336-3.38V33.232H14.395c-1.832 0-3.345-1.522-3.345-3.38 0-1.858 1.513-3.375 3.345-3.375h11.742v-11.89c0-1.852 1.504-3.373 3.336-3.373 1.837 0 3.34 1.521 3.34 3.373v11.89h11.743c1.832 0 3.334 1.517 3.334 3.375s-1.502 3.38-3.334 3.38z"/>
              </svg>
            </div>
            <div class="">{{formatPrice(food.foodPriceAfterOff)}}</div>
            <div id="foodID" class="hidden">{{food.food.id}}</div>
          </div>


          <div ng-repeat="food in res.foodOrders" ng-if="food.food.foodType == 'DDA'"
               class="w-100 flex items-center content-between color-5d9baa text-right line-height-initial">
            <div class="mobile-food-name text-right line-height-initial">{{food.food.name}}</div>
            <div class="fit-width flex items-center food-count-box">
              <svg xmlns="http://www.w3.org/2000/svg"
                   ng-click="dessert($event, 'r-{{$parent.$index + '-' + $index}}')"
                   class="unset-position pointer" viewbox="-5 12 45 45" width="30" height="50">
                <path fill="#1A4049" fill-rule="evenodd"
                      d="M13.844 29.723l.426 4.179c.034.341-.061.677-.275.941-.216.265-.519.43-.855.465l-4.106.423a.763.763 0 0 1-.126.009c-.291 0-.576-.101-.803-.29a1.298 1.298 0 0 1-.455-.865l-.418-4.178a1.302 1.302 0 0 1 .276-.939 1.26 1.26 0 0 1 .851-.466l4.109-.424a1.26 1.26 0 0 1 1.376 1.145zm-1.85.88l-2.768.287.282 2.816 2.771-.286-.285-2.817zm2.126-12.595a1.379 1.379 0 0 1 1.953-.185l4.505 3.793c.283.241.459.578.495.951a1.43 1.43 0 0 1-.319 1.027l-3.729 4.578a1.362 1.362 0 0 1-1.062.508c-.312 0-.624-.106-.884-.321l-4.5-3.793a1.41 1.41 0 0 1-.495-.951 1.432 1.432 0 0 1 .314-1.027l3.722-4.58zm1.773 8.478l3.021-3.713-3.646-3.076-3.028 3.713 3.653 3.076zm7.541-3.307a1.249 1.249 0 0 1-1.242-1.214l-.157-3.978c-.022-.697.505-1.287 1.196-1.314l3.908-.157a1.251 1.251 0 0 1 1.295 1.214l.157 3.976c.025.699-.511 1.289-1.195 1.314l-3.914.159h-.048zm.661-1.994l2.533-.1-.102-2.576-2.528.1.097 2.576zm2.539 13.759l-3.806 5.169a1.39 1.39 0 0 1-.93.562 1.341 1.341 0 0 1-.204.018c-.304 0-.598-.1-.847-.29l-5.08-3.865a1.456 1.456 0 0 1-.285-2.02l3.8-5.168a1.399 1.399 0 0 1 1.981-.29l5.083 3.866c.303.231.502.568.554.95.056.379-.043.759-.266 1.068zm-6.113-3.995l-3.186 4.328 4.259 3.237 3.184-4.329-4.257-3.236zM35.205 1.945l-8.008 1.354-1.632 5.152h4.406c.815 0 1.541.495 1.852 1.261.335.849.783 2.418.877 4.961.006.04.006.081.006.122v.046c.112 3.63-.474 9.19-3.019 17.368-1.83 5.866-2.713 12.295-2.636 19.108a.98.98 0 0 1-.962.996h-.01a.972.972 0 0 1-.961-.973c-.08-7.023.836-13.66 2.723-19.724 1.846-5.922 2.835-11.031 2.937-15.182.008-.225.008-.443.008-.655h-10.42a.975.975 0 0 1-.968-.984c0-.542.431-.983.968-.983h1.466l1.082-3.394H2.75c-.027 0-.049.013-.055.036-.209.514-.535 1.579-.683 3.358h13.857c.532 0 .96.441.96.983a.971.971 0 0 1-.96.984H9.648l1.145.672c.627.366.839 1.183.472 1.818l-2.412 4.259a1.3 1.3 0 0 1-1.794.489l-4.184-2.459a1.355 1.355 0 0 1-.48-1.821l1.675-2.958H1.937c.009 3.379.654 8.472 2.941 15.837 3.31 10.626 3.032 20.93 2.208 27.733.263.2.568.31.902.31h16.739a1.5 1.5 0 0 0 .915-.312 69.136 69.136 0 0 1-.324-3.29.983.983 0 0 1 .889-1.055.98.98 0 0 1 1.039.905 80.44 80.44 0 0 0 .365 3.671v.002c.116.845.233 1.68.361 2.49.015.04.018.079.024.12.044.229.076.458.119.682a3.524 3.524 0 0 1-.75 2.861 3.406 3.406 0 0 1-2.638 1.256H7.988c-.449 0-.89-.09-1.294-.259a3.445 3.445 0 0 1-1.344-.997 3.52 3.52 0 0 1-.741-2.861c.043-.247.088-.497.128-.749.005-.049.015-.101.018-.15.024-.166.058-.33.08-.496.87-5.651 1.901-17.384-1.802-29.268C1.135 26.112.116 20.821.007 16.484c-.092-3.521.437-5.628.89-6.772A1.991 1.991 0 0 1 2.75 8.451h20.789l1.866-5.911a1.684 1.684 0 0 1 1.32-1.154L34.883.007a.963.963 0 0 1 1.112.807.972.972 0 0 1-.79 1.131zM7.493 20.997l1.795-3.16-3.114-1.828-1.792 3.163 3.111 1.825zm-.657 43.475a1.497 1.497 0 0 0 1.152.549h16.739c.229 0 .443-.048.637-.141a1.59 1.59 0 0 0 .525-.408 1.54 1.54 0 0 0 .318-1.251c-.1-.594-.203-1.197-.291-1.809a3.388 3.388 0 0 1-1.189.215H7.988a3.39 3.39 0 0 1-1.184-.215c-.095.649-.197 1.255-.287 1.809-.087.448.03.901.319 1.251zm18.107-54.054l-1.077 3.394h6.849c-.146-1.736-.462-2.802-.688-3.358a.058.058 0 0 0-.056-.036h-5.028z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" ng-click="productMinus($event)"
                   class="unset-position"
                   viewbox="0 -15 60 90" width="30" height="40">
                <path fill="#1A4049" fill-rule="evenodd"
                      d="M29.513.307C13.225.307.026 13.669.026 30.149c0 16.48 13.199 29.842 29.487 29.842 16.281 0 29.481-13.362 29.481-29.842 0-16.48-13.2-29.842-29.481-29.842zm15.083 33.219h-30.16c-1.837 0-3.343-1.518-3.343-3.377 0-1.858 1.506-3.378 3.343-3.378h30.16c1.829 0 3.336 1.52 3.336 3.378 0 1.859-1.507 3.377-3.336 3.377z"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" ng-click="productPlus($event)"
                   class="unset-position"
                   viewbox="0 -15 60 90" width="30" height="40">
                <path fill="#1A4049" fill-rule="evenodd"
                      d="M29.473.012C13.194.012-.006 13.371-.006 29.852c0 16.482 13.2 29.841 29.479 29.841 16.285 0 29.48-13.359 29.48-29.841 0-16.481-13.195-29.84-29.48-29.84zm15.083 33.22H32.813v11.883c0 1.861-1.503 3.38-3.34 3.38-1.832 0-3.336-1.519-3.336-3.38V33.232H14.395c-1.832 0-3.345-1.522-3.345-3.38 0-1.858 1.513-3.375 3.345-3.375h11.742v-11.89c0-1.852 1.504-3.373 3.336-3.373 1.837 0 3.34 1.521 3.34 3.373v11.89h11.743c1.832 0 3.334 1.517 3.334 3.375s-1.502 3.38-3.334 3.38z"/>
              </svg>
              <span
                class="white-color candy-back white-color candy-back redius-xl reserve-item-count right-margin-sm">{{res.foodOrders.length}}</span>
            </div>
            <div class="">{{formatPrice(food.foodPriceAfterOff)}}</div>
          </div>

          <div class="w-100 flex items-center content-between color-5d9baa text-right line-height-initial">
            <div class="mobile-food-name text-right line-height-initial">ظرف</div>
            <div class="">{{formatPrice(res.totalContainerPrice)}}</div>
          </div>
          <div class="w-100 flex items-center content-between color-5d9baa text-right line-height-initial reserve-deliveryDate-hr hr bottom-padding-4">
            <div class="mobile-food-name text-right line-height-initial">هزینه ارسال</div>
            <div class="">{{formatPrice(res.deliveryPrice)}}</div>
          </div>


          <div class="w-100 flex items-center content-between color-5d9baa font-bold">
            <div class="mobile-food-name text-right line-height-initial">مجموع</div>
            <div class="">
              {{formatPrice(res.totalAmount)}}
            </div>
          </div>

          <form novalidate
                ng-submit="validateSubmitMin($index) && validateSubmitMax($index) && addFoodDesc(myday.id,$index)"
                class="w-100 top-margin-lg">
            <div class="w-100 relative">
                        <textarea id="orderDesc_{{$index}}" name="orderDesc_{{$index}}" placeholder="توضیحات"
                                  descindex="{{$index}}" onkeyup="validateDesc(event)" ng-focus="showSubmit($event)"
                                  class="w-100 redius-md padding-2 text-right right-directioon no-border no-resize comment-box line-height-initial color-b1b1b1"
                                  rows="1">{{myday.desc}}</textarea>
              <div class="error-message hidden" id="max_{{$index}}">
                حداکثر 250 کاراکتر وارد کنید
              </div>
              <div class="error-message hidden" id="min_{{$index}}">
                حداقل 2 کاراکتر وارد کنید
              </div>
              <button type="submit"
                      class="btn left-4 bottom-2 white-color candy-back absolute hidden-btn">ارسال
              </button>
            </div>
          </form>

        </div>
      </div>
    </div>

  </div>
</div>
<style>
  .view-padding-top {
    padding-top: 44px;
  }
</style>
